# 桶排序

## 原理

计数排序适合 K 较小的情况，如果 K 很大的话，开出 O(K) 的空间就不太合适了，这种情况下我们使用桶排序

依旧有一个待排序的整数序列 A，其中元素的最小值不小于 0，最大值不大于 K。接着我们定义桶，每个桶存放一个区间内的数。假设我们有 M 个桶，那个第 i 个桶存储 [iK/M, (i+1)K/M) 的数。

* 遍历 A，根据每个元素所属的区间，放到指定的桶中（顺序放置）
* 对每个桶中的元素进行排序，可以使用任意的排序算法，例如快速排序，或者递归使用桶排序进行排序
* 依次收集桶中的元素，顺序放到输出数组中

对桶中元素的顺序放入和顺序取出是为了排序的稳定性

> 如果数据是期望平均分布的，则每个桶中的元素平均个数为 N/M。如果对每个桶中的元素排序使用的算法是快速排序，每次排序的时间复杂度为 O(N/Mlog(N/M))。则总的时间复杂度为 O(N)+O(M)O(N/Mlog(N/M)) = O(N+ Nlog(N/M)) = O(N + NlogN - NlogM)。当 M 接近于 N 时，桶排序的时间复杂度就可以近似认为是 O(N) 的。就是桶越多，时间效率就越高，而桶越多，空间却就越大，由此可见时间和空间是一个矛盾的两个方面。
